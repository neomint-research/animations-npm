{"version":3,"names":["_react","require","_performance","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","usePerformanceMonitor","enabled","monitorRef","useRef","PerformanceMonitor","performanceData","setPerformanceData","useState","fps","averageFPS","performanceLevel","deviceCapabilities","detectDeviceCapabilities","optimalSettings","useEffect","monitor","current","deviceCaps","optimal","getOptimalSettings","prev","startMonitoring","isMonitoring","recordFrame","getAverageFPS","getPerformanceLevel","exports"],"sources":["usePerformanceMonitor.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport { PerformanceMonitor, detectDeviceCapabilities, getOptimalSettings } from '../performance';\r\n\r\nexport const usePerformanceMonitor = (enabled = true) => {\r\n  const monitorRef = useRef(new PerformanceMonitor());\r\n  const [performanceData, setPerformanceData] = useState({\r\n    fps: 0,\r\n    averageFPS: 0,\r\n    performanceLevel: 'medium',\r\n    deviceCapabilities: detectDeviceCapabilities(),\r\n    optimalSettings: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    const monitor = monitorRef.current;\r\n    const deviceCaps = detectDeviceCapabilities();\r\n    const optimal = getOptimalSettings(deviceCaps);\r\n\r\n    setPerformanceData(prev => ({\r\n      ...prev,\r\n      deviceCapabilities: deviceCaps,\r\n      optimalSettings: optimal\r\n    }));\r\n\r\n    if (enabled) {\r\n      monitor.startMonitoring();\r\n    }\r\n\r\n    return () => {\r\n      monitor.isMonitoring = false;\r\n    };\r\n  }, [enabled]);\r\n\r\n  const recordFrame = () => {\r\n    if (!enabled) return;\r\n    \r\n    const monitor = monitorRef.current;\r\n    monitor.recordFrame();\r\n    \r\n    setPerformanceData(prev => ({\r\n      ...prev,\r\n      fps: monitor.fps,\r\n      averageFPS: monitor.getAverageFPS(),\r\n      performanceLevel: monitor.getPerformanceLevel()\r\n    }));\r\n  };\r\n\r\n  return {\r\n    ...performanceData,\r\n    recordFrame,\r\n    monitor: monitorRef.current\r\n  };\r\n};"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAAkG,SAAAE,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAC,CAAA,GAAAH,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAK,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAN,CAAA,WAAAE,MAAA,CAAAK,wBAAA,CAAAR,CAAA,EAAAC,CAAA,EAAAQ,UAAA,OAAAP,CAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,CAAA,EAAAI,CAAA,YAAAJ,CAAA;AAAA,SAAAU,cAAAZ,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAAb,CAAA,UAAAC,CAAA,WAAAW,SAAA,CAAAZ,CAAA,IAAAY,SAAA,CAAAZ,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAa,OAAA,WAAAd,CAAA,IAAAe,eAAA,CAAAhB,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAc,yBAAA,GAAAd,MAAA,CAAAe,gBAAA,CAAAlB,CAAA,EAAAG,MAAA,CAAAc,yBAAA,CAAAf,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAa,OAAA,WAAAd,CAAA,IAAAE,MAAA,CAAAgB,cAAA,CAAAnB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAK,wBAAA,CAAAN,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAAA,SAAAgB,gBAAAhB,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAmB,cAAA,CAAAnB,CAAA,MAAAD,CAAA,GAAAG,MAAA,CAAAgB,cAAA,CAAAnB,CAAA,EAAAC,CAAA,IAAAoB,KAAA,EAAAnB,CAAA,EAAAO,UAAA,MAAAa,YAAA,MAAAC,QAAA,UAAAvB,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAoB,eAAAlB,CAAA,QAAAsB,CAAA,GAAAC,YAAA,CAAAvB,CAAA,uCAAAsB,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAvB,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAwB,MAAA,CAAAC,WAAA,kBAAA3B,CAAA,QAAAwB,CAAA,GAAAxB,CAAA,CAAA4B,IAAA,CAAA1B,CAAA,EAAAD,CAAA,uCAAAuB,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAA5B,CAAA,GAAA6B,MAAA,GAAAC,MAAA,EAAA7B,CAAA;AAE3F,MAAM8B,qBAAqB,GAAGA,CAACC,OAAO,GAAG,IAAI,KAAK;EACvD,MAAMC,UAAU,GAAG,IAAAC,aAAM,EAAC,IAAIC,+BAAkB,CAAC,CAAC,CAAC;EACnD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAG,IAAAC,eAAQ,EAAC;IACrDC,GAAG,EAAE,CAAC;IACNC,UAAU,EAAE,CAAC;IACbC,gBAAgB,EAAE,QAAQ;IAC1BC,kBAAkB,EAAE,IAAAC,qCAAwB,EAAC,CAAC;IAC9CC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,IAAAC,gBAAS,EAAC,MAAM;IACd,MAAMC,OAAO,GAAGb,UAAU,CAACc,OAAO;IAClC,MAAMC,UAAU,GAAG,IAAAL,qCAAwB,EAAC,CAAC;IAC7C,MAAMM,OAAO,GAAG,IAAAC,+BAAkB,EAACF,UAAU,CAAC;IAE9CX,kBAAkB,CAACc,IAAI,IAAAxC,aAAA,CAAAA,aAAA,KAClBwC,IAAI;MACPT,kBAAkB,EAAEM,UAAU;MAC9BJ,eAAe,EAAEK;IAAO,EACxB,CAAC;IAEH,IAAIjB,OAAO,EAAE;MACXc,OAAO,CAACM,eAAe,CAAC,CAAC;IAC3B;IAEA,OAAO,MAAM;MACXN,OAAO,CAACO,YAAY,GAAG,KAAK;IAC9B,CAAC;EACH,CAAC,EAAE,CAACrB,OAAO,CAAC,CAAC;EAEb,MAAMsB,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAACtB,OAAO,EAAE;IAEd,MAAMc,OAAO,GAAGb,UAAU,CAACc,OAAO;IAClCD,OAAO,CAACQ,WAAW,CAAC,CAAC;IAErBjB,kBAAkB,CAACc,IAAI,IAAAxC,aAAA,CAAAA,aAAA,KAClBwC,IAAI;MACPZ,GAAG,EAAEO,OAAO,CAACP,GAAG;MAChBC,UAAU,EAAEM,OAAO,CAACS,aAAa,CAAC,CAAC;MACnCd,gBAAgB,EAAEK,OAAO,CAACU,mBAAmB,CAAC;IAAC,EAC/C,CAAC;EACL,CAAC;EAED,OAAA7C,aAAA,CAAAA,aAAA,KACKyB,eAAe;IAClBkB,WAAW;IACXR,OAAO,EAAEb,UAAU,CAACc;EAAO;AAE/B,CAAC;AAACU,OAAA,CAAA1B,qBAAA,GAAAA,qBAAA","ignoreList":[]}